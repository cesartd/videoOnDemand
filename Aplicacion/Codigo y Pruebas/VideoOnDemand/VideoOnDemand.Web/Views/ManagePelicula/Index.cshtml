@model VideoOnDemand.Web.Models.PaginatorViewModel<VideoOnDemand.Web.Models.MovieViewModel>

@{
    ViewBag.Title = "Index";
}

<h2>Administrar Películas</h2>

<form class="form-inline md-form mr-auto mb-4">
    <input class="form-control mr-sm-2" type="text" placeholder="Nombre de la Película" aria-label="Search" name="Search">
    <div class="col-md-3">
        <label>Genero de la Pelicula</label>
        <select id="genero" name="genero" class="form-control">
            @if (String.IsNullOrEmpty(ViewBag.Genero))
            {
                <option value="">Seleccione una opción</option>
            }
            else
            {
                    <option value=@ViewBag.Genero>@ViewBag.Genero</option>

                    <option value="">Seleccione una opción</option>
            }

            @foreach (var genero in (List<string>)ViewBag.ListaGeneros)
            {
                <option value="@genero">@genero</option>
            }
        </select>
    </div>

    <button class="btn btn-elegant btn-rounded btn-sm my-0" type="submit" value="Buscar">Buscar</button>
    
</form>
<br>

<p>
    @Html.ActionLink("Crear nueva película", "Create")
</p>



<table class="table">
    <tr>
        <th>
            @Html.DisplayName("Nombre")
        </th>
        <th>
            @Html.DisplayName("Duración")
        </th>
        <th>
            @Html.DisplayName("Fecha lanzamiento")
        </th>
        <th>
            @Html.DisplayName("Actions")
        </th>
        <th></th>
    </tr>

@foreach (var item in Model.Results) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Nombre)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DuracionMin)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.FechaDeLanzamiento)
        </td>
        <td>
            @Html.ActionLink("Editar", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Eliminar", "Delete", new { id=item.Id })
        </td>
    </tr>
}

</table>
